import { initializeApp } from "firebase/app";
import { getFirestore } from "firebase/firestore";
import { getAuth } from "firebase/auth";
import admin from "firebase-admin";

const serviceAccountKey = Buffer.from(
    "ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiYWljaGF0Ym90LWQwZTYxIiwKICAicHJpdmF0ZV9rZXlfaWQiOiAiNjgzM2ZkMTMxZDRkMDQ0NWFjNjM2MGUxNGEwNGZhMzVmYWYzN2EwNCIsCiAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuTUlJRXZRSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2N3Z2dTakFnRUFBb0lCQVFEWS9sbWlJM0ZGT3ZTelxudC93MEIvOXhraWtUVjhWamlDUFVkVlZsWSs0UFdjdmpHcE1sci96M080dGl6a3VnSTVDcW5zK0w1WFZsYzNHT1xuWFdYUC8vWVFMWHRvSEV6Tk1CNUR6RDkwZ3BOLzJGZHE4RlBmTXFJRVdNWlJWbDdxREgreTJQWWNoSjRuMVJJNVxuM1NBd3lOaDJ3d3JaS3B3bnJqVWYyVEd4MW5iamw5b0pLUkdDRUM4dzJxZ0lHc2NmYlp1Tm1PNVlBd3FZUm8vMVxuWVB0TFprdmZBRC8weXBmZG1nck0ybGtqaUpOVStlNnJIN2pVZlFBRHRVUTc3MnlEMXFrSzhjZVlkeEY2MGdQZFxuTkRWRGFwaVRwVi9GekdyNkdoL1htUTkwMEF6R1UyUzdZbGloOG9PZUtQOG83bzBIMnNyKzR0b3Q5c2pkRis4VlxuTGF1d09panZBZ01CQUFFQ2dnRUFGM0g3NjBuYkRqamRnYUdLYlhERHg5aWIrWXdOTnNEWjVqVzdRVlkzdlk3ZFxuT2ErQVlKMFFQd0kvQURENytOUis2QUI2dWtuVGtsK1QwR2NFL2lGUXk5U3VOY1NCQTlhRUhwMHQ2Zi9Gd2hWMFxuOUlmODkrdTNsN0tqMHR2N0sxeW9XNEdYcmVNaVYzbHRHN1ZwcWZ1NWI3T0pNNGVvRVoxLy9lM3dzWjlUZnltUlxuR2FabWN1SitaYkRaV0FFUmRQUWR5UlphSTZ2WTZicGRDN0xVUnRsS2ZibllkZmVhMTdmODVpeVBSeFpVNTRqQ1xuWkNKcmFoRWxiOSthSHpKaHQyQmpkQVZEaTMxK0FxR1AwUDhjQzQzalBPTkNydm8vWlNHTkgvb1huWUo3YlQ0ZVxucnhObS95UHdkT0JFcXZDNWdqVUlvUEpsbDJyeEgvQk5haWxkWm8wMmNRS0JnUUQyR1dRdE5zWDRmOFovTkRyWVxuN3lqeWNlMVYvcXJuT2NCUk9qaFYyM0t3M2krS1JUN2ZHQ3JSV1BDL0NKQks0TnJPN0doNit0endCamJwQlRSbVxuMWRVMC9FUG1oOWlLU2hDeWo4RFE2aG9KRmxFdkFMckMvN3hQK3JieGdBa0F4OG4vU2R1WHFZMzB6cC9yeXQ1UFxuNUlqUVRNL1BBejhGSXdEOG1KVC8vallwbHdLQmdRRGh1VEl0MGJXS3ZhL3hIdnhuQXVsWTZjWW8wTjNyYTJ2S1xuQnRUcXBWMkZrRlN5cDlmQ01ndGlKOEhzK3lJVGg4UE4wM0Ezay9sZzVtMHZDc0FNOUlsYjVHMHVTL3MwM1l2VVxudkNkNEVJRTY1a05sRXlBL29HSWtIZGV1K3dkTERpS1VYUFBBc3BWaERDeVRqd2xqd0g2R205YmRqR0paOG9KWVxuWXE2OWFkVDJhUUtCZ0R5ZWJvV1FtMTBscERCTEhqKzNVVisrM2xZelg4ZUsreXRHNnYrRENaSTFlSUpYb2kvelxuMVFBeUowTDNDZ3ZYclM0UkgzOURjYzZSeVU3R29HekFPVDlPOEM3RndYbjIybndSV3M1YkM4UzNRWklSWE8rUlxuYk1KS29HdUdQVEY3Qk8ra01ybjk0dUN0VU1rVTlJTzdhRlBleDhWWEtGdk1qbjZwMnZIZm5WbkxBb0dBU253TVxuUE9ab202SEFmemFVWDRHc2NyU2h1VEpES0w1SDBXQ3p2Y0pYdkExR2hiV3hFdG5rdTcwVzF4Wi94aVlVek1TcVxuMFF3NVRHcDlPUHE1S1ExQWpsd3dVd2lybW1SSkVpZ01kaWdzSEwyREc4VlY3T2tGdVpsSFpPeGRHYjFPVjlyY1xuYklnQmx3YW5ad0hhUFZwMTVnRml3N1RoZDRENDFpV3FOOExHalpFQ2dZRUFtOXRsM25hQVV3MFFrTkQ0UkxmQVxuQVhycTA0dHAySmlXK3BLNmZ3amhtNE42aitnWHBLUFc5RXhVdWZLMno1UysyaVVIMVQ5dWQxYzNrbG9SQkx5eVxuYzhGUlBpblg4NGVYRjBwRVZQd2k0RDdjeFpnd1BCdUJBci9jeWVCWkhNWi9pQUUySVZvd1I1K09EZzU1STJoU1xuK0lDT3ZEQ3dSVTNKNkVDZEhPcjFFQ2s9XG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLAogICJjbGllbnRfZW1haWwiOiAiZmlyZWJhc2UtYWRtaW5zZGstdXFnMnBAYWljaGF0Ym90LWQwZTYxLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAiY2xpZW50X2lkIjogIjExMDUwNzk4MTA4Mzc5OTI2MDI2NSIsCiAgImF1dGhfdXJpIjogImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoIiwKICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwKICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsCiAgImNsaWVudF94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3JvYm90L3YxL21ldGFkYXRhL3g1MDkvZmlyZWJhc2UtYWRtaW5zZGstdXFnMnAlNDBhaWNoYXRib3QtZDBlNjEuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K",
    "base64"
  ).toString("utf-8");
  const serviceAccount = JSON.parse(serviceAccountKey);

const firebaseConfig = {
  apiKey: "AIzaSyBoTTMllrYsgRYsnEIBtO4j3eTDKYNZxSI",
  authDomain: "aichatbot-d0e61.firebaseapp.com",
  projectId: "aichatbot-d0e61",
  storageBucket: "aichatbot-d0e61.appspot.com",
  messagingSenderId: "1022235816105",
  appId: "1:1022235816105:web:3b5e840e23dadffeb039b8"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const auth = getAuth(app)

admin.initializeApp({
    credential: admin.credential.cert(serviceAccount),
  });
  export default admin;
  export { db, auth };


